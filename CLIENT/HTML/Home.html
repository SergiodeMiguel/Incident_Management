<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Incident Management - Home</title>
  <link rel="stylesheet" href="../Assets/Home.css" /> <!-- Link to external stylesheet -->
</head>
<body>
  <!-- Navigation bar at the top of the page -->
  <header>
    <nav class="navbar">
      <!-- Application logo and name -->
      <div class="nav-logo">
        <img src="../Assets/Logo/logo-transparent.png" alt="App Logo" class="logo-image" /> <!-- Logo image -->
        <span>Incident Management</span>
      </div>
      <!-- Navigation links -->
      <ul class="nav-links">
        <li><a href="Home.html">Home</a></li> <!-- Link to the home page -->
        <li><a href="Create_Incident.html">Create Incident</a></li> <!-- Link to the incident creation form -->
        <li><a href="My_Incidents.html">My Incidents</a></li> <!-- Link to the user’s own incidents -->
        <li><a href="Support.html">Support</a></li> <!-- Link to support page -->
        <li><a href="#" onclick="logout()">Logout</a></li> <!-- Logout link with JavaScript function -->
      </ul>
    </nav>
  </header>

  <!-- Main content section -->
  <main class="container">
    <!-- Welcome message that dynamically includes the user's name -->
    <section class="welcome">
      <h2 id="welcome-message">Hello, user.</h2> <!-- Placeholder text replaced by JavaScript -->
      <p>Welcome to InSergo Incident Management System.</p>
    </section>

    <!-- Summary cards showing open and closed incident statistics -->
    <section class="stats-cards">
      <div class="card">
        <h3>Open Incidents</h3>
        <p id="open-count">0</p> <!-- Value filled by JavaScript -->
      </div>
      <div class="card">
        <h3>Closed Incidents</h3>
        <p id="closed-count">0</p> <!-- Value filled by JavaScript -->
      </div>
    </section>

    <!-- Button to create a new incident -->
    <div class="actions">
      <a href="Create_Incident.html" class="primary-button">+ Create New Incident</a> <!-- Link styled as a button -->
    </div>

    <!-- Section displaying the most recent incidents in a table -->
    <section class="recent-incidents">
      <div class="incidents-header">
        <h3>Recent Incidents</h3>
        <button onclick="window.location.href='All_Incidents.html'" class="secondary-button">See All Incidents</button> <!-- Button to navigate to the full list of incidents -->
      </div>

      <!-- Table structure for displaying incident data -->
      <table class="incidents-table">
        <thead>
          <tr>
            <th class="admin-only">ID</th> <!-- Column only visible to admin users -->
            <th>Title</th> <!-- Incident title -->
            <th>Status</th> <!-- Incident status (e.g., Open, Closed) -->
            <th>Category</th> <!-- Type or classification of the incident -->
            <th>Department</th> <!-- Department responsible for the incident -->
            <th>Reported By</th> <!-- User who reported the incident -->
            <th>Assigned To</th> <!-- User assigned to the incident -->
            <th>Date</th> <!-- Date when the incident was created -->
            <th>Actions</th> <!-- Buttons for editing or deleting the incident -->
          </tr>
        </thead>
        <tbody id="incident-list">
          <!-- JavaScript dynamically inserts rows into this table body -->
        </tbody>
      </table>
    </section>
  </main>

  <!-- Footer section with application info -->
  <footer class="footer">
    <p>© 2025 University Incident Tracker</p>
    <p>Version 1.0 | <a href="Support.html">Support</a></p>
  </footer>

  <!-- JavaScript that handles dynamic content loading on this page -->
  <script src="../JS/Home.js"></script>
</body>
</html>
